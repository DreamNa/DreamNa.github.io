
<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>第五题</title>
  <style type="text/css">
	   body{
	    margin:0;
		overflow:hidden;
		font-size: 15px;
		font-family:隶书;
	    color:white;
		background:url(Picture/佳人B.gif);
   		background-size:100% 100%;
        background-attachment:fixed;
		}
     div{
            margin:1em;
            padding:1em;
            width: 100px;
            height: 100px;
            border:1px solid rgb(20,200,100);
            display:inline-block;
       		background:url(Picture/佳人.jpg);
			 text-align: center;
			 position: absolute;
	   	    transition:all 1.5s;
			 border-radius: 50%;
        }
		  div:hover{
   background-color:rgba(10,96,100,0.5);}
  </style>
   </head>
   <body>
  <script type="text/javascript">
 const NUMS = 6;
      var tsBalls = [];
      var sn = 0;
      const S = [
        "绝代有佳人，幽居在空谷。自云良家子，零落依草木。"
      ];
      document.body.onmousemove = document.body.ontouchmove = function () {
        for (let ball of tsBalls) {
          ball.setPositionDiv();
        }
      };
      document.body.onclick = function () {
        for (let ball of tsBalls) {
          ball.randPositionDiv();
        }
      };
      document.body.ondblclick = function () {
        console.log("double click");
        for (let ball of tsBalls) {
          this.removeChild(ball.dom);
        }
        tsBalls = [];
        sn === S.length - 1 ? (sn = 0) : sn++;
        for (var i = 0; i < S[sn].length; i++) {
          var x0 = i % NUMS;
          var y0 = Math.floor(i / NUMS);
          var ballObj = new Ball(x0, y0);
          ballObj.createDivDom(S[sn][i]);
          ballObj.randPositionDiv();
          tsBalls.push(ballObj);
        }
      };
      var bodyWidth = window.innerWidth;
      var bodyHeight = window.innerHeight;
      document.body.style.width = bodyWidth + "px";
      document.body.style.height = bodyHeight + "px";
      var r =
        bodyWidth > bodyHeight
          ? bodyHeight / ((NUMS * 3) / 2)
          : bodyWidth / ((NUMS * 3) / 2);
      for (var i = 0; i < S[sn].length; i++) {
        var x0 = i % NUMS;
        var y0 = Math.floor(i / NUMS);
        var ballObj = new Ball(x0, y0);
        ballObj.createDivDom(S[sn][i]);
        ballObj.randPositionDiv();
        tsBalls.push(ballObj);
      }
      function Ball(x0, y0) {
        this.x0 = x0;
        this.y0 = y0;
        this.dom = null;
        this.createDivDom = function (s) {
          var divDom = document.createElement("div");
          var pDom = document.createElement("p");
          pDom.textContent = s;
          pDom.style.fontSize = r / 2 + "px";
          divDom.style.width = divDom.style.height = r + "px";
          if (this.x0 === 5 || this.x0 === 11) {
            divDom.className = "bd";
          }
          divDom.appendChild(pDom);
          document.body.appendChild(divDom);
          this.dom = divDom;
        };
        this.randPositionDiv = function () {
          var x = Math.floor(Math.random() * bodyWidth);
          if (x >= bodyWidth - r) {
            x = bodyWidth - r;
          }
          var y = Math.floor(Math.random() * bodyHeight);
          if (y >= bodyHeight - r) {
            y = bodyHeight - r;
          }
          this.dom.style.left = x + "px";
          this.dom.style.top = y + "px";
        };
        this.setPositionDiv = function () {
          var x = parseInt(this.x0) * r * 1.2;
          var y = parseInt(this.y0) * r * 1.2;
          this.dom.style.left = x + r + "px";
          this.dom.style.top = y + r + "px";
        };
      }
    </script>
  </body>
</html>
